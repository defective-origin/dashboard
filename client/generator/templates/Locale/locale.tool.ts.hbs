export const LOCALE_CODE_SPLIT_REGEXP = /[-_]/

export type LocaleCode = {
  code: string
  locale: string
  region?: string
}

export function getLocaleCode(defaultLocaleCode = 'en-en'): LocaleCode {
  const code = (navigator.languages && navigator.languages[0])
      || navigator.language
      || defaultLocaleCode

  return {
    code,
    locale: code.split(LOCALE_CODE_SPLIT_REGEXP)[0],
    region: code.split(LOCALE_CODE_SPLIT_REGEXP)[1],
  }
}
