import React, { useContext } from 'react'

export type {{pascalCase name}}State = null | object

export type {{pascalCase name}}Options = {
  current: {{pascalCase name}}State,
  change: (patch: Partial<Exclude<{{pascalCase name}}State, 'null'>>) => void,
  isLoaded: boolean,
}

export const DEFAULT_{{constantCase name}}_OPTIONS: {{pascalCase name}}Options = {
  current: null,
  change: () => {},
  isLoaded: false,
}

export const {{pascalCase name}}Context = React.createContext(DEFAULT_{{constantCase name}}_OPTIONS)

export function use{{pascalCase name}}<T extends {{pascalCase name}}Options>(): T {
  return useContext({{pascalCase name}}Context) as T
}

export default use{{pascalCase name}}
